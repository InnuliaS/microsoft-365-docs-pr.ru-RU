---
title: Устранение проблем с информационными барьерами
f1.keywords:
- NOCSH
ms.author: chrfox
author: chrfox
manager: laurawi
ms.date: 07/08/2019
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
ms.collection:
- M365-security-compliance
localization_priority: None
description: Используйте эту статью в качестве руководства по устранению проблем со сведениями.
ms.openlocfilehash: c57f9a14e3089f52ad0eab0a0634d7d58f74e6cf
ms.sourcegitcommit: 2614f8b81b332f8dab461f4f64f3adaa6703e0d6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/21/2020
ms.locfileid: "43621353"
---
# <a name="troubleshooting-information-barriers"></a><span data-ttu-id="91fa1-103">Устранение проблем с информационными барьерами</span><span class="sxs-lookup"><span data-stu-id="91fa1-103">Troubleshooting information barriers</span></span>

<span data-ttu-id="91fa1-104">[Информационные барьеры](information-barriers.md) помогают Организации в соответствии с юридическими требованиями и отраслевыми нормативами.</span><span class="sxs-lookup"><span data-stu-id="91fa1-104">[Information barriers](information-barriers.md) can help your organization remain compliant with legal requirements and industry regulations.</span></span> <span data-ttu-id="91fa1-105">Например, с помощью информационных барьеров вы можете ограничить обмен данными между определенными группами пользователей, чтобы избежать конфликта интересов или других проблем.</span><span class="sxs-lookup"><span data-stu-id="91fa1-105">For example, with information barriers, you can restrict communication between specific groups of users to avoid a conflict of interest or other issues.</span></span> <span data-ttu-id="91fa1-106">(Дополнительные сведения о настройке препятствий для информации см. в разделе [Определение политик для барьеров информации](information-barriers-policies.md)).</span><span class="sxs-lookup"><span data-stu-id="91fa1-106">(To learn more about how to set up information barriers, see [Define policies for information barriers](information-barriers-policies.md).)</span></span>

<span data-ttu-id="91fa1-107">В случае возникновения непредвиденных проблем, возникающих при возникновении проблем с информационными барьерами, существует несколько действий, которые можно предпринять для решения этих проблем.</span><span class="sxs-lookup"><span data-stu-id="91fa1-107">In the event that people run into unexpected issues after information barriers are in place, there are some steps you can take to resolve those issues.</span></span> <span data-ttu-id="91fa1-108">Используйте эту статью в качестве руководства.</span><span class="sxs-lookup"><span data-stu-id="91fa1-108">Use this article as a guide.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="91fa1-109">Для выполнения задач, описанных в этой статье, необходимо назначить соответствующую роль, например один из следующих вариантов:</span><span class="sxs-lookup"><span data-stu-id="91fa1-109">To perform the tasks described in this article, you must be assigned an appropriate role, such as one of the following:</span></span><br/><span data-ttu-id="91fa1-110">— Корпоративный глобальный администратор Майкрософт 365</span><span class="sxs-lookup"><span data-stu-id="91fa1-110">- Microsoft 365 Enterprise Global Administrator</span></span><br/><span data-ttu-id="91fa1-111">— Глобальный администратор</span><span class="sxs-lookup"><span data-stu-id="91fa1-111">- global administrator</span></span><br/><span data-ttu-id="91fa1-112">— Администратор соответствия требованиям</span><span class="sxs-lookup"><span data-stu-id="91fa1-112">- Compliance Administrator</span></span><br/><span data-ttu-id="91fa1-113">-"Управление соответствием требованиям" (это новая роль);</span><span class="sxs-lookup"><span data-stu-id="91fa1-113">- IB Compliance Management (this is a new role!)</span></span><p><span data-ttu-id="91fa1-114">Чтобы узнать больше о предварительных требованиях для барьеров информации, ознакомьтесь со статьей [Предварительные требования (для политик барьера информации)](information-barriers-policies.md#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="91fa1-114">To learn more about prerequisites for information barriers, see [Prerequisites (for information barrier policies)](information-barriers-policies.md#prerequisites).</span></span><p><span data-ttu-id="91fa1-115">Убедитесь, что вы [подключены к PowerShell центра безопасности & соответствия требованиям](https://docs.microsoft.com/powershell/exchange/office-365-scc/connect-to-scc-powershell/connect-to-scc-powershell?view=exchange-ps).</span><span class="sxs-lookup"><span data-stu-id="91fa1-115">Make sure to [connect to Security & Compliance Center PowerShell](https://docs.microsoft.com/powershell/exchange/office-365-scc/connect-to-scc-powershell/connect-to-scc-powershell?view=exchange-ps).</span></span>

## <a name="issue-users-are-unexpectedly-blocked-from-communicating-with-others-in-microsoft-teams"></a><span data-ttu-id="91fa1-116">Вопрос: пользователи неожиданно блокировали связь с другими пользователями в Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="91fa1-116">Issue: Users are unexpectedly blocked from communicating with others in Microsoft Teams</span></span> 

<span data-ttu-id="91fa1-117">В этом случае люди сообщают о непредвиденных проблемах связи с другими пользователями в Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="91fa1-117">In this case, people are reporting unexpected issues communicating with others in Microsoft Teams.</span></span> <span data-ttu-id="91fa1-118">Примеры:</span><span class="sxs-lookup"><span data-stu-id="91fa1-118">Examples:</span></span>
- <span data-ttu-id="91fa1-119">Пользователь выполняет поиск, но не может найти другого пользователя в Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="91fa1-119">A user searches for, but is unable to find, another user in Microsoft Teams.</span></span>
- <span data-ttu-id="91fa1-120">Пользователь может найти, но не выбрать другого пользователя в Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="91fa1-120">A user can find, but cannot select, another user in Microsoft Teams.</span></span>
- <span data-ttu-id="91fa1-121">Пользователь может видеть другого пользователя, но не может отправлять сообщения этому другому пользователю в Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="91fa1-121">A user can see another user, but cannot send messages to that other user in Microsoft Teams.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="91fa1-122">Действия</span><span class="sxs-lookup"><span data-stu-id="91fa1-122">What to do</span></span>

<span data-ttu-id="91fa1-123">Определите, повлияет ли политика информационного барьера на пользователей.</span><span class="sxs-lookup"><span data-stu-id="91fa1-123">Determine whether the users are affected by an information barrier policy.</span></span> <span data-ttu-id="91fa1-124">В зависимости от того, как настроены политики, барьеры информации могут работать должным образом.</span><span class="sxs-lookup"><span data-stu-id="91fa1-124">Depending on how policies are configured, information barriers might be working as expected.</span></span> <span data-ttu-id="91fa1-125">Или, возможно, потребуется уточнить политики Организации.</span><span class="sxs-lookup"><span data-stu-id="91fa1-125">Or, you might have to refine your organization's policies.</span></span>

1. <span data-ttu-id="91fa1-126">Используйте командлет **Get – информатионбарриерреЦипиентстатус** с параметром Identity.</span><span class="sxs-lookup"><span data-stu-id="91fa1-126">Use the **Get-InformationBarrierRecipientStatus** cmdlet with the Identity parameter.</span></span> 

    |<span data-ttu-id="91fa1-127">Синтаксис</span><span class="sxs-lookup"><span data-stu-id="91fa1-127">Syntax</span></span>  |<span data-ttu-id="91fa1-128">Пример</span><span class="sxs-lookup"><span data-stu-id="91fa1-128">Example</span></span>  |
    |---------|---------|
    | `Get-InformationBarrierRecipientStatus -Identity` <p><span data-ttu-id="91fa1-129">Можно использовать любое значение Identity, однозначно идентифицирующее каждого получателя, например имя, псевдоним, различающееся имя (DN), каноническое имя, адрес электронной почты или GUID.</span><span class="sxs-lookup"><span data-stu-id="91fa1-129">You can use any identity value that uniquely identifies each recipient, such as Name, Alias, Distinguished name (DN), Canonical DN, Email address, or GUID.</span></span>     |`Get-InformationBarrierRecipientStatus -Identity meganb` <p><span data-ttu-id="91fa1-130">В этом примере используется псевдоним (*меганб*) для параметра Identity.</span><span class="sxs-lookup"><span data-stu-id="91fa1-130">In this example, we are using an alias (*meganb*) for the Identity parameter.</span></span> <span data-ttu-id="91fa1-131">Этот командлет возвращает сведения, указывающие на то, затрагивает ли пользователь политику барьера информации.</span><span class="sxs-lookup"><span data-stu-id="91fa1-131">This cmdlet will return information that indicates whether the user is affected by an information barrier policy.</span></span> <span data-ttu-id="91fa1-132">(Искать \* Ексополициид: \<GUID>.)</span><span class="sxs-lookup"><span data-stu-id="91fa1-132">(Look for \*ExoPolicyId: \<GUID>.)</span></span>         |

    <span data-ttu-id="91fa1-133">**Если пользователи не включены в политики барьера информации, обратитесь в службу поддержки**.</span><span class="sxs-lookup"><span data-stu-id="91fa1-133">**If the users are not included in information barrier policies, contact support**.</span></span> <span data-ttu-id="91fa1-134">В противном случае перейдите к следующему шагу.</span><span class="sxs-lookup"><span data-stu-id="91fa1-134">Otherwise, proceed to the next step.</span></span>

2. <span data-ttu-id="91fa1-135">Сведения о том, какие сегменты включены в политику барьера информации.</span><span class="sxs-lookup"><span data-stu-id="91fa1-135">Find out which segments are included in an information barrier policy.</span></span> <span data-ttu-id="91fa1-136">Для этого используйте `Get-InformationBarrierPolicy` командлет с параметром Identity.</span><span class="sxs-lookup"><span data-stu-id="91fa1-136">To do this, use the `Get-InformationBarrierPolicy` cmdlet with the Identity parameter.</span></span> 

    |<span data-ttu-id="91fa1-137">Синтаксис</span><span class="sxs-lookup"><span data-stu-id="91fa1-137">Syntax</span></span>  |<span data-ttu-id="91fa1-138">Пример</span><span class="sxs-lookup"><span data-stu-id="91fa1-138">Example</span></span>  |
    |---------|---------|
    |`Get-InformationBarrierPolicy` <p><span data-ttu-id="91fa1-139">Используйте сведения, такие как идентификатор GUID политики (Ексополициид), полученный на предыдущем этапе, в качестве значения Identity.</span><span class="sxs-lookup"><span data-stu-id="91fa1-139">Use details, such as the policy GUID (ExoPolicyId) you received during the previous step, as an identity value.</span></span>     | `Get-InformationBarrierPolicy -Identity b42c3d0f-49e9-4506-a0a5-bf2853b5df6f` <p><span data-ttu-id="91fa1-140">В этом примере мы получаем подробные сведения о политике барьера информации, которая имеет Ексополициид *b42c3d0f-49e9-4506-a0a5-bf2853b5df6f*.</span><span class="sxs-lookup"><span data-stu-id="91fa1-140">In this example, we are getting detailed information about the information barrier policy that has ExoPolicyId *b42c3d0f-49e9-4506-a0a5-bf2853b5df6f*.</span></span>         |

    <span data-ttu-id="91fa1-141">После выполнения командлета в результатах найдите значения **ассигнедсегмент**, **сегментсалловед**и **сегментсблоккед** .</span><span class="sxs-lookup"><span data-stu-id="91fa1-141">After you run the cmdlet, in the results, look for **AssignedSegment**, **SegmentsAllowed**, and **SegmentsBlocked** values.</span></span>

    <span data-ttu-id="91fa1-142">Например, после выполнения `Get-InformationBarrierPolicy` командлета в нашем списке результатов мы видели следующее:</span><span class="sxs-lookup"><span data-stu-id="91fa1-142">For example, after running the `Get-InformationBarrierPolicy` cmdlet, we saw the following in our list of results:</span></span>

    ```powershell
        AssignedSegment      : Sales
        SegmentsAllowed      : {}
        SegmentsBlocked      : {Research}
    ```
    <span data-ttu-id="91fa1-143">В этом случае мы видим, что политика информационного барьера влияет на пользователей, находящихся в сегментах продаж и исследований.</span><span class="sxs-lookup"><span data-stu-id="91fa1-143">In this case, we can see that an information barrier policy affects people who are in the Sales and Research segments.</span></span> <span data-ttu-id="91fa1-144">В этом случае людям из отдела продаж запрещено взаимодействовать с людьми в справочных материалах.</span><span class="sxs-lookup"><span data-stu-id="91fa1-144">In this case, people in Sales are prevented from communicating with people in Research.</span></span> 
    
    <span data-ttu-id="91fa1-145">Если это правильно, то информационные барьеры работают должным образом.</span><span class="sxs-lookup"><span data-stu-id="91fa1-145">If this seems correct, then information barriers are working as expected.</span></span> <span data-ttu-id="91fa1-146">Если нет, перейдите к следующему шагу.</span><span class="sxs-lookup"><span data-stu-id="91fa1-146">If not, proceed to the next step.</span></span>

4. <span data-ttu-id="91fa1-147">Убедитесь, что сегменты определены правильно.</span><span class="sxs-lookup"><span data-stu-id="91fa1-147">Make sure your segments are defined correctly.</span></span> <span data-ttu-id="91fa1-148">Для этого используйте `Get-OrganizationSegment` командлет и просмотрите список результатов.</span><span class="sxs-lookup"><span data-stu-id="91fa1-148">To do this, use the `Get-OrganizationSegment` cmdlet, and review the list of results.</span></span> 

    |<span data-ttu-id="91fa1-149">Синтаксис</span><span class="sxs-lookup"><span data-stu-id="91fa1-149">Syntax</span></span>  |<span data-ttu-id="91fa1-150">Пример</span><span class="sxs-lookup"><span data-stu-id="91fa1-150">Example</span></span>  |
    |---------|---------|
    |`Get-OrganizationSegment`<p><span data-ttu-id="91fa1-151">Используйте этот командлет с параметром Identity.</span><span class="sxs-lookup"><span data-stu-id="91fa1-151">Use this cmdlet with an Identity parameter.</span></span>     |`Get-OrganizationSegment -Identity c96e0837-c232-4a8a-841e-ef45787d8fcd` <p><span data-ttu-id="91fa1-152">В этом примере мы получаем сведения о сегменте с GUID *c96e0837-c232-4a8a-841e-ef45787d8fcd*.</span><span class="sxs-lookup"><span data-stu-id="91fa1-152">In this example, we are getting information about the segment that has GUID *c96e0837-c232-4a8a-841e-ef45787d8fcd*.</span></span>         |

    <span data-ttu-id="91fa1-153">Просмотрите сведения о сегменте.</span><span class="sxs-lookup"><span data-stu-id="91fa1-153">Review the details for the segment.</span></span> <span data-ttu-id="91fa1-154">При необходимости [измените сегмент](information-barriers-edit-segments-policies.md#edit-a-segment), а затем повторно используйте `Start-InformationBarrierPoliciesApplication` командлет.</span><span class="sxs-lookup"><span data-stu-id="91fa1-154">If necessary, [edit a segment](information-barriers-edit-segments-policies.md#edit-a-segment), and then re-use the `Start-InformationBarrierPoliciesApplication` cmdlet.</span></span>

    <span data-ttu-id="91fa1-155">**Если у вас по-прежнему возникают проблемы с политикой барьера информации, обратитесь в службу поддержки**.</span><span class="sxs-lookup"><span data-stu-id="91fa1-155">**If you are still having issues with your information barrier policy, contact support**.</span></span>

## <a name="issue-communications-are-allowed-between-users-who-should-be-blocked-in-microsoft-teams"></a><span data-ttu-id="91fa1-156">Вопрос: разрешено взаимодействие между пользователями, которые должны быть заблокированы в Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="91fa1-156">Issue: Communications are allowed between users who should be blocked in Microsoft Teams</span></span>

<span data-ttu-id="91fa1-157">В этом случае, несмотря на то, что барьеры информации определены, активны и применяются, люди, которые должны быть запрещены для связи друг с другом, могут использовать разговор и звонить друг другу в Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="91fa1-157">In this case, although information barriers are defined, active, and applied, people who should be prevented from communicating with each other are somehow able to chat with and call each other in Microsoft Teams.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="91fa1-158">Действия</span><span class="sxs-lookup"><span data-stu-id="91fa1-158">What to do</span></span>

<span data-ttu-id="91fa1-159">Убедитесь, что рассматриваемые пользователи включены в политику барьера данных.</span><span class="sxs-lookup"><span data-stu-id="91fa1-159">Verify that the users in question are included in an information barrier policy.</span></span> 

1. <span data-ttu-id="91fa1-160">Используйте командлет **Get – информатионбарриерреЦипиентстатус** с параметрами Identity.</span><span class="sxs-lookup"><span data-stu-id="91fa1-160">Use the **Get-InformationBarrierRecipientStatus** cmdlet with Identity parameters.</span></span>

    |<span data-ttu-id="91fa1-161">Синтаксис</span><span class="sxs-lookup"><span data-stu-id="91fa1-161">Syntax</span></span>  |<span data-ttu-id="91fa1-162">Пример</span><span class="sxs-lookup"><span data-stu-id="91fa1-162">Example</span></span>  |
    |---------|---------|
    |`Get-InformationBarrierRecipientStatus -Identity <value> -Identity2 <value>` <p><span data-ttu-id="91fa1-163">Можно использовать любое значение, однозначно идентифицирующее каждого пользователя, например, имя, псевдоним, различающееся имя, каноническое имя домена, адрес электронной почты или GUID.</span><span class="sxs-lookup"><span data-stu-id="91fa1-163">You can use any value that uniquely identifies each user, such as name, alias, distinguished name, canonical domain name, email address, or GUID.</span></span>     |`Get-InformationBarrierRecipientStatus -Identity meganb -Identity2 alexw` <p><span data-ttu-id="91fa1-164">В этом примере мы будем называть две учетные записи пользователей в Office 365: *меганб* для *Меган*и *алексв* для *Алекс*.</span><span class="sxs-lookup"><span data-stu-id="91fa1-164">In this example, we refer to two user accounts in Office 365: *meganb* for *Megan*, and *alexw* for *Alex*.</span></span>          |

    
    > [!TIP]
    > <span data-ttu-id="91fa1-165">Вы также можете использовать этот командлет для одного пользователя:`Get-InformationBarrierRecipientStatus -Identity <value>`</span><span class="sxs-lookup"><span data-stu-id="91fa1-165">You can also use this cmdlet for a single user: `Get-InformationBarrierRecipientStatus -Identity <value>`</span></span>
    
2. <span data-ttu-id="91fa1-166">Просмотрите результаты.</span><span class="sxs-lookup"><span data-stu-id="91fa1-166">Review the findings.</span></span> <span data-ttu-id="91fa1-167">Командлет **Get – информатионбарриерреЦипиентстатус** возвращает сведения о пользователях, такие как значения атрибутов и применяемые политики барьера данных.</span><span class="sxs-lookup"><span data-stu-id="91fa1-167">The **Get-InformationBarrierRecipientStatus** cmdlet returns information about users, such as attribute values and any information barrier policies that are applied.</span></span> 

    <span data-ttu-id="91fa1-168">Просмотрите результаты, а затем выполните следующие действия, как описано в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="91fa1-168">Review the results, and then take your next steps, as described in the following table:</span></span>
    
    |<span data-ttu-id="91fa1-169">Результаты</span><span class="sxs-lookup"><span data-stu-id="91fa1-169">Results</span></span>  |<span data-ttu-id="91fa1-170">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="91fa1-170">What to do next</span></span>  |
    |---------|---------|
    |<span data-ttu-id="91fa1-171">Не указаны сегменты для выбранных пользователей</span><span class="sxs-lookup"><span data-stu-id="91fa1-171">No segments are listed for the selected user(s)</span></span>     |<span data-ttu-id="91fa1-172">Выполните одно из указанных ниже действий.</span><span class="sxs-lookup"><span data-stu-id="91fa1-172">Do one of the following:</span></span><br/><span data-ttu-id="91fa1-173">— Назначьте пользователей существующему сегменту, изменив профили пользователей в Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="91fa1-173">- Assign users to an existing segment by editing their user profiles in Azure Active Directory.</span></span> <span data-ttu-id="91fa1-174">(См. раздел [Настройка свойств учетных записей пользователей с помощью PowerShell для Office 365](https://docs.microsoft.com/office365/enterprise/powershell/configure-user-account-properties-with-office-365-powershell).)</span><span class="sxs-lookup"><span data-stu-id="91fa1-174">(See [Configure user account properties with Office 365 PowerShell](https://docs.microsoft.com/office365/enterprise/powershell/configure-user-account-properties-with-office-365-powershell).)</span></span><br/><span data-ttu-id="91fa1-175">— Определите сегмент, используя [поддерживаемый атрибут для барьеров информации](information-barriers-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="91fa1-175">- Define a segment using a [supported attribute for information barriers](information-barriers-attributes.md).</span></span> <span data-ttu-id="91fa1-176">Затем либо [Определите новую политику](information-barriers-policies.md#part-2-define-information-barrier-policies) , либо [измените существующую](information-barriers-edit-segments-policies.md#edit-a-policy) , чтобы включить этот сегмент.</span><span class="sxs-lookup"><span data-stu-id="91fa1-176">Then, either [define a new policy](information-barriers-policies.md#part-2-define-information-barrier-policies) or [edit an existing policy](information-barriers-edit-segments-policies.md#edit-a-policy) to include that segment.</span></span>  |
    |<span data-ttu-id="91fa1-177">В списке указаны сегменты, но для этих сегментов не назначены политики барьера данных.</span><span class="sxs-lookup"><span data-stu-id="91fa1-177">Segments are listed but no information barrier policies are assigned to those segments</span></span>     |<span data-ttu-id="91fa1-178">Выполните одно из указанных ниже действий.</span><span class="sxs-lookup"><span data-stu-id="91fa1-178">Do one of the following:</span></span><br/><span data-ttu-id="91fa1-179">- [Определение новой политики барьера информации](information-barriers-policies.md#part-2-define-information-barrier-policies) для каждого рассматриваемого сегмента</span><span class="sxs-lookup"><span data-stu-id="91fa1-179">- [Define a new information barrier policy](information-barriers-policies.md#part-2-define-information-barrier-policies) for each segment in question</span></span><br/><span data-ttu-id="91fa1-180">- [Изменение существующей политики барьера информации](information-barriers-edit-segments-policies.md#edit-a-policy) для назначения ее подходящего сегмента</span><span class="sxs-lookup"><span data-stu-id="91fa1-180">- [Edit an existing information barrier policy](information-barriers-edit-segments-policies.md#edit-a-policy) to assign it to the correct segment</span></span>         |
    |<span data-ttu-id="91fa1-181">Указаны сегменты, которые включены в политику барьера информации</span><span class="sxs-lookup"><span data-stu-id="91fa1-181">Segments are listed and each is included in an information barrier policy</span></span>     |<span data-ttu-id="91fa1-182">— Выполните `Get-InformationBarrierPolicy` командлет, чтобы убедиться, что политики барьера информации активны</span><span class="sxs-lookup"><span data-stu-id="91fa1-182">- Run the `Get-InformationBarrierPolicy` cmdlet to verify that information barrier policies are active</span></span><br/><span data-ttu-id="91fa1-183">— Запуск `Get-InformationBarrierPoliciesApplicationStatus` командлета для подтверждения применения политик</span><span class="sxs-lookup"><span data-stu-id="91fa1-183">- Run the `Get-InformationBarrierPoliciesApplicationStatus` cmdlet to confirm the policies are applied</span></span><br/><span data-ttu-id="91fa1-184">— Выполните командлет `Start-InformationBarrierPoliciesApplication` , чтобы применить все активные политики барьера информации.</span><span class="sxs-lookup"><span data-stu-id="91fa1-184">- Run the `Start-InformationBarrierPoliciesApplication` cmdlet to apply all active information barrier policies</span></span>          |
    

## <a name="issue-i-need-to-remove-a-single-user-from-an-information-barrier-policy"></a><span data-ttu-id="91fa1-185">Вопрос: мне необходимо удалить одного пользователя из политики информационных барьеров</span><span class="sxs-lookup"><span data-stu-id="91fa1-185">Issue: I need to remove a single user from an information barrier policy</span></span>

<span data-ttu-id="91fa1-186">В этом случае действуют политики информационных барьеров, и один или несколько пользователей неожиданно блокируются при взаимодействии с другими пользователями в Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="91fa1-186">In this case, information barrier policies are in effect, and a one or more users are unexpectedly blocked from communicating with others in Microsoft Teams.</span></span> <span data-ttu-id="91fa1-187">Вместо того, чтобы полностью удалять политики барьера информации, можно удалить одного или нескольких пользователей из политик барьера информации.</span><span class="sxs-lookup"><span data-stu-id="91fa1-187">Rather than remove information barrier policies altogether, you can remove one or more individual users from information barrier policies.</span></span> 

### <a name="what-to-do"></a><span data-ttu-id="91fa1-188">Действия</span><span class="sxs-lookup"><span data-stu-id="91fa1-188">What to do</span></span>

<span data-ttu-id="91fa1-189">Политики для работы с информационными барьерами назначаются сегментам пользователей.</span><span class="sxs-lookup"><span data-stu-id="91fa1-189">Information barrier policies are assigned to segments of users.</span></span> <span data-ttu-id="91fa1-190">Сегменты определяются с использованием определенных [атрибутов в профилях учетных записей пользователей](information-barriers-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="91fa1-190">Segments are defined by using certain [attributes in user account profiles](information-barriers-attributes.md).</span></span> <span data-ttu-id="91fa1-191">Если необходимо удалить политику для отдельного пользователя, рекомендуется изменить профиль этого пользователя в Azure Active Directory, чтобы пользователь больше не включался в сегмент, на который влияют барьеры информации.</span><span class="sxs-lookup"><span data-stu-id="91fa1-191">If you must remove a policy from a single user, consider editing that user's profile in Azure Active Directory such that the user is no longer included in a segment affected by information barriers.</span></span>

1. <span data-ttu-id="91fa1-192">Используйте командлет **Get – информатионбарриерреЦипиентстатус** с параметрами Identity.</span><span class="sxs-lookup"><span data-stu-id="91fa1-192">Use the **Get-InformationBarrierRecipientStatus** cmdlet with Identity parameters.</span></span> <span data-ttu-id="91fa1-193">Этот командлет возвращает сведения о пользователях, такие как значения атрибутов и применяемые политики барьера данных.</span><span class="sxs-lookup"><span data-stu-id="91fa1-193">This cmdlet returns information about users, such as attribute values and any information barrier policies that are applied.</span></span>

    |<span data-ttu-id="91fa1-194">Синтаксис</span><span class="sxs-lookup"><span data-stu-id="91fa1-194">Syntax</span></span>  |<span data-ttu-id="91fa1-195">Пример</span><span class="sxs-lookup"><span data-stu-id="91fa1-195">Example</span></span>  |
    |---------|---------|
    |`Get-InformationBarrierRecipientStatus -Identity <value> -Identity2 <value>`<p><span data-ttu-id="91fa1-196">Можно использовать любое значение, однозначно идентифицирующее каждого пользователя, например, имя, псевдоним, различающееся имя, каноническое имя домена, адрес электронной почты или GUID.</span><span class="sxs-lookup"><span data-stu-id="91fa1-196">You can use any value that uniquely identifies each user, such as name, alias, distinguished name, canonical domain name, email address, or GUID.</span></span>     |`Get-InformationBarrierRecipientStatus -Identity meganb -Identity2 alexw` <p><span data-ttu-id="91fa1-197">В этом примере мы будем называть две учетные записи пользователей в Office 365: *меганб* для *Меган*и *алексв* для *Алекс*.</span><span class="sxs-lookup"><span data-stu-id="91fa1-197">In this example, we refer to two user accounts in Office 365: *meganb* for *Megan*, and *alexw* for *Alex*.</span></span>          |
    |`Get-InformationBarrierRecipientStatus -Identity <value>` <p><span data-ttu-id="91fa1-198">Можно использовать любое значение, однозначно идентифицирующее пользователя, например имя, псевдоним, различающееся имя, каноническое имя домена, адрес электронной почты или GUID.</span><span class="sxs-lookup"><span data-stu-id="91fa1-198">You can use any value that uniquely identifies the user, such as name, alias, distinguished name, canonical domain name, email address, or GUID.</span></span>|`Get-InformationBarrierRecipientStatus -Identity jeanp`<p><span data-ttu-id="91fa1-199">В этом примере мы имеем ссылку на одну учетную запись в Office 365: *жеанп*.</span><span class="sxs-lookup"><span data-stu-id="91fa1-199">In this example, we refer to a single account in Office 365: *jeanp*.</span></span> |

2. <span data-ttu-id="91fa1-200">Просмотрите результаты, чтобы узнать, назначены ли политики барьера информации, а также сегменты, к которым принадлежат пользователи.</span><span class="sxs-lookup"><span data-stu-id="91fa1-200">Review the results to see if information barrier policies are assigned, and to which segment(s) the user(s) belong.</span></span> 

3. <span data-ttu-id="91fa1-201">Чтобы удалить пользователя из сегмента, затрагиваемого информационными барьерами, [обновите сведения о профиле пользователя в Azure Active Directory](https://docs.microsoft.com/azure/active-directory/fundamentals/active-directory-users-profile-azure-portal).</span><span class="sxs-lookup"><span data-stu-id="91fa1-201">To remove a user from a segment affected by information barriers, [update the user's profile information in Azure Active Directory](https://docs.microsoft.com/azure/active-directory/fundamentals/active-directory-users-profile-azure-portal).</span></span>

4. <span data-ttu-id="91fa1-202">Подождите около 30 минут, пока не Фвдсинк.</span><span class="sxs-lookup"><span data-stu-id="91fa1-202">Wait about 30 minutes for FwdSync to occur.</span></span> <span data-ttu-id="91fa1-203">Или выполните `Start-InformationBarrierPoliciesApplication` командлет, чтобы применить все активные политики барьера информации.</span><span class="sxs-lookup"><span data-stu-id="91fa1-203">Or, run the `Start-InformationBarrierPoliciesApplication` cmdlet to apply all active information barrier policies.</span></span>

## <a name="issue-the-information-barrier-application-process-is-taking-too-long"></a><span data-ttu-id="91fa1-204">Вопрос: процесс Application барьера занимает слишком много времени</span><span class="sxs-lookup"><span data-stu-id="91fa1-204">Issue: The information barrier application process is taking too long</span></span>

<span data-ttu-id="91fa1-205">После выполнения командлета **Start-информатионбарриерполиЦиесаппликатион** процесс занимает очень много времени.</span><span class="sxs-lookup"><span data-stu-id="91fa1-205">After running the **Start-InformationBarrierPoliciesApplication** cmdlet, the process is taking a really long time to finish.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="91fa1-206">Действия</span><span class="sxs-lookup"><span data-stu-id="91fa1-206">What to do</span></span>

<span data-ttu-id="91fa1-207">Имейте в виду, что при запуске командлета приложения политики политики информационных барьеров применяются (или удаляются), пользователь по пользователям для всех учетных записей в Организации.</span><span class="sxs-lookup"><span data-stu-id="91fa1-207">Keep in mind that when you run the policy application cmdlet, information barrier policies are being applied (or removed), user by user, for all accounts in your organization.</span></span> <span data-ttu-id="91fa1-208">Если у вас много пользователей, обработка займет некоторое время.</span><span class="sxs-lookup"><span data-stu-id="91fa1-208">If you have a lot of users, it will take a while to process.</span></span> <span data-ttu-id="91fa1-209">(Как правило, для обработки 5 000 учетных записей пользователей требуется около часа.)</span><span class="sxs-lookup"><span data-stu-id="91fa1-209">(As a general guideline, it takes about an hour to process 5,000 user accounts.)</span></span>

1. <span data-ttu-id="91fa1-210">Используйте командлет **Get – информатионбарриерполиЦиесаппликатионстатус** для проверки состояния последнего приложения политики.</span><span class="sxs-lookup"><span data-stu-id="91fa1-210">Use the **Get-InformationBarrierPoliciesApplicationStatus** cmdlet to verify status of the most recent policy application.</span></span>

    |<span data-ttu-id="91fa1-211">Просмотр последнего приложения политики</span><span class="sxs-lookup"><span data-stu-id="91fa1-211">To view the most recent policy application</span></span>  |<span data-ttu-id="91fa1-212">Просмотр состояния всех приложений политики</span><span class="sxs-lookup"><span data-stu-id="91fa1-212">To view status for all policy applications</span></span>  |
    |---------|---------|
    |`Get-InformationBarrierPoliciesApplicationStatus`     |`Get-InformationBarrierPoliciesApplicationStatus -All $true`         |


    <span data-ttu-id="91fa1-213">При этом будут отображены сведения о том, завершено ли выполнение приложения политики, оно завершилось сбоем или находится в процессе выполнения.</span><span class="sxs-lookup"><span data-stu-id="91fa1-213">This will display information about whether policy application completed, failed, or is in progress.</span></span>

2. <span data-ttu-id="91fa1-214">В зависимости от результатов предыдущего действия выполните одно из указанных ниже действий.</span><span class="sxs-lookup"><span data-stu-id="91fa1-214">Depending on the results of the previous step, take one of the following steps:</span></span>
  
    |<span data-ttu-id="91fa1-215">Состояние</span><span class="sxs-lookup"><span data-stu-id="91fa1-215">Status</span></span>  |<span data-ttu-id="91fa1-216">Следующий шаг</span><span class="sxs-lookup"><span data-stu-id="91fa1-216">Next step</span></span>  |
    |---------|---------|
    |<span data-ttu-id="91fa1-217">**Не запущено**.</span><span class="sxs-lookup"><span data-stu-id="91fa1-217">**Not started**</span></span>     |<span data-ttu-id="91fa1-218">Если после выполнения командлета **Start – информатионбарриерполиЦиесаппликатион** использовался более 45 минут, просмотрите журнал аудита, чтобы проверить наличие ошибок в определениях политик, или причину, по которой приложение не запущено.</span><span class="sxs-lookup"><span data-stu-id="91fa1-218">If it has been more than 45 minutes since the **Start-InformationBarrierPoliciesApplication** cmdlet has been run, review your audit log to see if there are any errors in policy definitions, or some other reason why the application has not started.</span></span> |
    |<span data-ttu-id="91fa1-219">**Не удалось выполнить**</span><span class="sxs-lookup"><span data-stu-id="91fa1-219">**Failed**</span></span>     |<span data-ttu-id="91fa1-220">Если произошел сбой приложения, просмотрите журнал аудита.</span><span class="sxs-lookup"><span data-stu-id="91fa1-220">If the application has failed, review your audit log.</span></span> <span data-ttu-id="91fa1-221">Кроме того, проверьте сегменты и политики.</span><span class="sxs-lookup"><span data-stu-id="91fa1-221">Also review your segments and policies.</span></span> <span data-ttu-id="91fa1-222">Все пользователи назначены нескольким сегментам?</span><span class="sxs-lookup"><span data-stu-id="91fa1-222">Are any users assigned to more than one segment?</span></span> <span data-ttu-id="91fa1-223">Все сегменты назначены более чем одному полиици?</span><span class="sxs-lookup"><span data-stu-id="91fa1-223">Are any segments assigned more than one poliicy?</span></span> <span data-ttu-id="91fa1-224">При необходимости [измените сегменты](information-barriers-edit-segments-policies.md#edit-a-segment) и/или [измените политики](information-barriers-edit-segments-policies.md#edit-a-policy), а затем снова запустите командлет **Start-информатионбарриерполиЦиесаппликатион** .</span><span class="sxs-lookup"><span data-stu-id="91fa1-224">If necessary, [edit segments](information-barriers-edit-segments-policies.md#edit-a-segment) and/or [edit policies](information-barriers-edit-segments-policies.md#edit-a-policy), and then run the **Start-InformationBarrierPoliciesApplication** cmdlet again.</span></span>  |
    |<span data-ttu-id="91fa1-225">**Выполняется**</span><span class="sxs-lookup"><span data-stu-id="91fa1-225">**In progress**</span></span>     |<span data-ttu-id="91fa1-226">Если приложение все еще выполняется, дождитесь его завершения.</span><span class="sxs-lookup"><span data-stu-id="91fa1-226">If the application is still in progress, allow more time for it to complete.</span></span> <span data-ttu-id="91fa1-227">Если оно было в течение нескольких дней, соберите журналы аудита и обратитесь в службу поддержки.</span><span class="sxs-lookup"><span data-stu-id="91fa1-227">If it has been several days, gather your audit logs, and then contact support.</span></span> |

## <a name="issue-information-barrier-policies-are-not-being-applied-at-all"></a><span data-ttu-id="91fa1-228">Вопрос: политики информационного барьера не применяются вообще</span><span class="sxs-lookup"><span data-stu-id="91fa1-228">Issue: Information barrier policies are not being applied at all</span></span>

<span data-ttu-id="91fa1-229">В этом случае определены сегменты, определенные политики барьера информации и предпринимались попытки применить эти политики.</span><span class="sxs-lookup"><span data-stu-id="91fa1-229">In this case, you have defined segments, defined information barrier policies, and have attempted to apply those policies.</span></span> <span data-ttu-id="91fa1-230">Однако при выполнении `Get-InformationBarrierPoliciesApplicationStatus` командлета можно увидеть, что приложение политики не работает.</span><span class="sxs-lookup"><span data-stu-id="91fa1-230">However, when you run the `Get-InformationBarrierPoliciesApplicationStatus` cmdlet, you can see that policy application has failed.</span></span>

### <a name="what-to-do"></a><span data-ttu-id="91fa1-231">Действия</span><span class="sxs-lookup"><span data-stu-id="91fa1-231">What to do</span></span>

<span data-ttu-id="91fa1-232">Убедитесь, что в вашей организации нет [политик адресных книг Exchange](https://docs.microsoft.com/exchange/address-books/address-book-policies/address-book-policies) .</span><span class="sxs-lookup"><span data-stu-id="91fa1-232">Make sure that your organization does not have [Exchange address book policies](https://docs.microsoft.com/exchange/address-books/address-book-policies/address-book-policies) in place.</span></span> <span data-ttu-id="91fa1-233">Такие политики предотвращают применение политик к барьеру информации.</span><span class="sxs-lookup"><span data-stu-id="91fa1-233">Such policies will prevent information barrier policies from being applied.</span></span>

1. <span data-ttu-id="91fa1-234">Подключитесь к [Exchange Online PowerShell](https://docs.microsoft.com/powershell/exchange/exchange-online/connect-to-exchange-online-powershell/connect-to-exchange-online-powershell?view=exchange-ps).</span><span class="sxs-lookup"><span data-stu-id="91fa1-234">Connect to [Exchange Online PowerShell](https://docs.microsoft.com/powershell/exchange/exchange-online/connect-to-exchange-online-powershell/connect-to-exchange-online-powershell?view=exchange-ps).</span></span> 

2. <span data-ttu-id="91fa1-235">Выполните командлет [Get – AddressBookPolicy](https://docs.microsoft.com/powershell/module/exchange/email-addresses-and-address-books/get-addressbookpolicy?view=exchange-ps) и просмотрите результаты.</span><span class="sxs-lookup"><span data-stu-id="91fa1-235">Run the [Get-AddressBookPolicy](https://docs.microsoft.com/powershell/module/exchange/email-addresses-and-address-books/get-addressbookpolicy?view=exchange-ps) cmdlet, and review the results.</span></span>

    |<span data-ttu-id="91fa1-236">Результаты</span><span class="sxs-lookup"><span data-stu-id="91fa1-236">Results</span></span>  |<span data-ttu-id="91fa1-237">Следующий шаг</span><span class="sxs-lookup"><span data-stu-id="91fa1-237">Next step</span></span>  |
    |---------|---------|
    |<span data-ttu-id="91fa1-238">Политики адресных книг Exchange перечислены</span><span class="sxs-lookup"><span data-stu-id="91fa1-238">Exchange address book policies are listed</span></span>     |[<span data-ttu-id="91fa1-239">Удаление политик адресных книг</span><span class="sxs-lookup"><span data-stu-id="91fa1-239">Remove address book policies</span></span>](https://docs.microsoft.com/exchange/address-books/address-book-policies/remove-an-address-book-policy)         |
    |<span data-ttu-id="91fa1-240">Политика адресных книг не существует</span><span class="sxs-lookup"><span data-stu-id="91fa1-240">No address book policies exist</span></span> |<span data-ttu-id="91fa1-241">Просмотрите журналы аудита, чтобы выяснить причину сбоя приложения политики</span><span class="sxs-lookup"><span data-stu-id="91fa1-241">Review your audit logs to find out why policy application is failing</span></span> |

3. <span data-ttu-id="91fa1-242">[Просмотр состояния учетных записей пользователей, сегментов, политик или приложения политики](information-barriers-policies.md#view-status-of-user-accounts-segments-policies-or-policy-application).</span><span class="sxs-lookup"><span data-stu-id="91fa1-242">[View status of user accounts, segments, policies, or policy application](information-barriers-policies.md#view-status-of-user-accounts-segments-policies-or-policy-application).</span></span>

## <a name="issue-information-barrier-policy-not-applied-to-all-designated-users"></a><span data-ttu-id="91fa1-243">Вопрос: политика информационного барьера не применяется для всех назначенных пользователей</span><span class="sxs-lookup"><span data-stu-id="91fa1-243">Issue: Information barrier policy not applied to all designated users</span></span>

<span data-ttu-id="91fa1-244">После определения сегментов, определенных политик барьера информации и попытки применения этих политик может оказаться, что политика применяется к некоторым получателям, но не к другим.</span><span class="sxs-lookup"><span data-stu-id="91fa1-244">After you have defined segments, defined information barrier policies, and have attempted to apply those policies, you may find that the policy is applying to some recipients, but not to others.</span></span>
<span data-ttu-id="91fa1-245">При выполнении `Get-InformationBarrierPoliciesApplicationStatus` командлета выполните поиск в выходных данных для следующего текста.</span><span class="sxs-lookup"><span data-stu-id="91fa1-245">When you run the `Get-InformationBarrierPoliciesApplicationStatus` cmdlet, search the output for text like this.</span></span>

> <span data-ttu-id="91fa1-246">Хищения`<application guid>`</span><span class="sxs-lookup"><span data-stu-id="91fa1-246">Identity: `<application guid>`</span></span>
>
> <span data-ttu-id="91fa1-247">Общее количество получателей: 81527</span><span class="sxs-lookup"><span data-stu-id="91fa1-247">Total Recipients: 81527</span></span>
>
> <span data-ttu-id="91fa1-248">Неудачные получатели: 2</span><span class="sxs-lookup"><span data-stu-id="91fa1-248">Failed Recipients: 2</span></span>
>
> <span data-ttu-id="91fa1-249">Категория сбоя: нет</span><span class="sxs-lookup"><span data-stu-id="91fa1-249">Failure Category: None</span></span>
>
> <span data-ttu-id="91fa1-250">Состояние: завершено</span><span class="sxs-lookup"><span data-stu-id="91fa1-250">Status: Complete</span></span>

### <a name="what-to-do"></a><span data-ttu-id="91fa1-251">Действия</span><span class="sxs-lookup"><span data-stu-id="91fa1-251">What to do</span></span>

1. <span data-ttu-id="91fa1-252">Выполните поиск в журнале аудита для `<application guid>`.</span><span class="sxs-lookup"><span data-stu-id="91fa1-252">Search in the audit log for `<application guid>`.</span></span> <span data-ttu-id="91fa1-253">Вы можете скопировать этот код PowerShell и изменить его для своих переменных.</span><span class="sxs-lookup"><span data-stu-id="91fa1-253">You can copy this PowerShell code and modify for your variables.</span></span>

```powershell
$DetailedLogs = Search-UnifiedAuditLog -EndDate <yyyy-mm-ddThh:mm:ss>  -StartDate <yyyy-mm-ddThh:mm:ss> -RecordType InformationBarrierPolicyApplication -ResultSize 1000 |?{$_.AuditData.Contains(<application guid>)} 
```

2. <span data-ttu-id="91fa1-254">Просмотрите подробные данные в журнале аудита для значений полей `"UserId"` и. `"ErrorDetails"`</span><span class="sxs-lookup"><span data-stu-id="91fa1-254">Check the detailed output from the audit log for the values of the `"UserId"` and `"ErrorDetails"` fields.</span></span> <span data-ttu-id="91fa1-255">Это даст вам причину сбоя.</span><span class="sxs-lookup"><span data-stu-id="91fa1-255">This will give you the reason for the failure.</span></span> <span data-ttu-id="91fa1-256">Вы можете скопировать этот код PowerShell и изменить его для своих переменных.</span><span class="sxs-lookup"><span data-stu-id="91fa1-256">You can copy this PowerShell code and modify for your variables.</span></span>

```powershell
   $DetailedLogs[1] |fl
```
 <span data-ttu-id="91fa1-257">Например:</span><span class="sxs-lookup"><span data-stu-id="91fa1-257">For example:</span></span>

> <span data-ttu-id="91fa1-258">"UserId": Пользователь1</span><span class="sxs-lookup"><span data-stu-id="91fa1-258">"UserId":  User1</span></span>
> 
><span data-ttu-id="91fa1-259">"Еррордетаилс": "Status: Ибполициконфликт.</span><span class="sxs-lookup"><span data-stu-id="91fa1-259">"ErrorDetails":"Status: IBPolicyConflict.</span></span> <span data-ttu-id="91fa1-260">Ошибка: сегмент "сегмент id1" и сегмент "сегмент id2" имеет конфликт и не может быть назначен получателю.</span><span class="sxs-lookup"><span data-stu-id="91fa1-260">Error: IB  segment               "segment id1" and IB segment "segment id2" has conflict and cannot be assigned to the recipient.</span></span> 

3. <span data-ttu-id="91fa1-261">Обычно вы обнаружите, что пользователь включен в несколько сегментов.</span><span class="sxs-lookup"><span data-stu-id="91fa1-261">Usually, you will find that a user has been included in more than one segment.</span></span> <span data-ttu-id="91fa1-262">Это можно исправить, обновив `-UserGroupFilter` значение в `OrganizationSegments`файле.</span><span class="sxs-lookup"><span data-stu-id="91fa1-262">You can fix this by updating the `-UserGroupFilter` value in `OrganizationSegments`.</span></span>

4. <span data-ttu-id="91fa1-263">Повторно примените политики барьера информации с помощью этих процедур [политики барьеров информации](information-barriers-policies.md#part-3-apply-information-barrier-policies).</span><span class="sxs-lookup"><span data-stu-id="91fa1-263">Re-apply information barrier policies using these procedures [Information Barriers policies](information-barriers-policies.md#part-3-apply-information-barrier-policies).</span></span>

## <a name="related-topics"></a><span data-ttu-id="91fa1-264">Статьи по теме</span><span class="sxs-lookup"><span data-stu-id="91fa1-264">Related topics</span></span>

[<span data-ttu-id="91fa1-265">Определение политик для барьеров информации в Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="91fa1-265">Define policies for information barriers in Microsoft Teams</span></span>](information-barriers-policies.md)

[<span data-ttu-id="91fa1-266">Информационные барьеры</span><span class="sxs-lookup"><span data-stu-id="91fa1-266">Information barriers</span></span>](information-barriers.md)
